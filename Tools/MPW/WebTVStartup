# All the startup scripting goes in hereDirectory "{{WTV:}}"Set Commands "{{WTV:}}Tools:MPW:,{{WTV:}}Tools:MPW:Commands:Goodies:,{{WTV:}}Tools:MPW:gnu-mips:bin:,{{Commands}}"# set up the folder for object and tmp filesIf "{{WTV.o:}}" == ""	Set WTV.o: "{{WTV:}}.o:"; Export WTV.o:	NewFolder "{{WTV.o:}}" ³ Dev:Null || Set status 0EndNewFolder "{{WTV:}}Temporary" ³ Dev:Null || Set status 0Set MWCIncludes "{MPW}Interfaces:MWCIncludes:"; Export MWCIncludesSet MW68KLibraries "{MPW}Libraries:MW68KLibraries:"; Export MW68KLibrariesSet ProjectHeaders 1DeleteMenu Build ³ Dev:Null || Set status 0DeleteMenu Directory ³ Dev:Null || Set status 0DeleteMenu Project ³ Dev:Null || Set status 0AddMenu Project		'Build Tools'			'BuildTools ·· "{{Worksheet}}"'AddMenu Project		-						' 'AddMenu Project		'Check InÉ'				'CheckIn -w'AddMenu Project		'Check OutÉ'			'CheckOut -w'AddMenu Project		'Check Out Latest/6'	'MountWebTVIfNeeded && CheckOutDir -r -project WebTVº "{{WTV:}}"; ShowStateOfTheProject; CheckOut -newer -r -p'AddMenu Project		-						' 'AddMenu Project		'Check In Active/-'		'CheckWindowIn "{{Active}}" ·· "{{Worksheet}}" && Close -c "{{Active}}"'AddMenu Project		'Check Out Active/+'	'CheckWindowOut "{{Active}}" ·· "{{Worksheet}}"'AddMenu Project		'ModifyReadOnly Active/*' 		'ExtraModifyReadOnly "{{Active}}" ·· "{{Worksheet}}"'AddMenu Project 	'Cancel Active' 'CancelWindowCheckOut "{Active}" && Close -c "{Active}"'AddMenu Project 	'Update Active To Latest'												¶			'MountWebTVIfNeeded && Begin;													¶				Set Exit 0;																	¶				Set ActiveName "{Active}";													¶				If "`projectinfo "{Active}"`" =~ /ÅProject:[ ¶t]+([Â ¶t]+)¨1Å/;				¶					If "`mountproject -pp -r`" =~ /Å{¨1}Å/;									¶						If "`projectinfo -s "{ActiveName}"`" =~ /Å¶*Å/ ;					¶							Orphanfiles "{ActiveName}";										¶						End;																¶						If "{LockUncheckedOutFiles}" ;										¶							SetFile "{ActiveName}" -a l ;									¶							Close "{ActiveName}" ;											¶							Open "{ActiveName}" ;											¶						End	;																¶						CheckOut -y -open -project {¨1} "{ActiveName}";						¶						If "{LockUncheckedOutFiles}" ;										¶							SetFile "{ActiveName}" -a L ;									¶							Close "{ActiveName}" ;											¶							Open "{ActiveName}" ;											¶						End;																¶					Else;																	¶						Alert "Cannot update this file.¶nProject Ò{¨1}Ó is not mounted."; 	¶					End;																	¶				Else;																		¶					Alert "Cannot update this file.¶nUnable to obtain project information.";¶				End;																		¶			End ·· "{Worksheet}"'AddMenu Project		-						' 'AddMenu Project 	'Check {Active} In With Header/I' 	'CheckWindowInWithHeader "{Active}" && Close -c "{Active}"'AddMenu Project		-						' 'AddMenu Project		'List MRO Files'		'ListMRO "{{WTV:}}" ·· "{{Worksheet}}"'AddMenu Project		'Merge Out'				'Mergeout ·· "{{Worksheet}}"'AddMenu Project		'Merge In'				'Mergein ·· "{{Worksheet}}"'AddMenu Project		-						' 'AddMenu Project		'Compare All with Last'	'CompareOut ·· "{{Worksheet}}"'AddMenu Project 	'Compare Active With File' 														¶					'Set Exit 0; Set CompareFile "`getfilename -q -m "Compare with which file?"; 	¶					Set RequestStatus {Status}`""" ; If !{RequestStatus};							¶					"{BBSCmds}CompareFiles" {myMonitorType} "{Active}" "{CompareFile}" ·· "{WorkSheet}"; End'AddMenu Project		'Compare withÉ'			'CompareRevisions "{{Active}}"'AddMenu Project		'Compare with Last'		'CompareOneRevision "{{Active}}" ·· "{{Worksheet}}"'AddMenu Project		-						' 'AddMenu Project 	'Open Checked-Out Files' 'OpenCheckedOut'AddMenu Project 	'List Checked-Out Files' 'ListCheckedOutFiles'AddMenu Project		-						' 'AddMenu Project 	'Verify Sources' 		'VerifySources ·· "{{Worksheet}}"'AddMenu Project 	'Update ChangeLog' 		'UpdateChangeLog ·· "{{Worksheet}}"'Set WTVMenu WTV; "WebMenu" && Set WTVMenu "Webb"; Export WTVMenuDeleteMenu {WTVMenu} ³ Dev:Null || Set status 0AddMenu {WTVMenu}	'Mount WebTV/7'			'MountWebTV ·· "{{Worksheet}}"'AddMenu {WTVMenu}	'Modify Resources' 		'ExtraModifyReadOnly "{{WTV:}}"Simulator:Simulator.rsrc ·· "{{Worksheet}}"; ¶											 echo "CheckWindowIn ¶"¶{WTV:¶}Simulator:Simulator.rsrc¶"" ¶											 `ProjectInfo -s "{{WTV:}}Simulator:Simulator.rsrc"` >> ¶											 "{{WTV:}}"Temporary:commandListUpdate'AddMenu {WTVMenu}	'Modify CW Projects' 	'ExtraModifyReadOnly "{{WTV:}}"WebTV¹IDT-PPC ·· "{{Worksheet}}" ; ¶											 echo "CheckWindowIn ¶"¶{WTV:¶}WebTV¹IDT-PPC¶"" `ProjectInfo -s "{{WTV:}}WebTV¹IDT-PPC"` >> ¶											 "{{WTV:}}"Temporary:commandListUpdate ; ¶											 ExtraModifyReadOnly "{{WTV:}}"WebTV¹ ·· "{{Worksheet}}" ; ¶											 echo "CheckWindowIn ¶"¶{WTV:¶}WebTV¹¶"" `ProjectInfo -s "{{WTV:}}WebTV¹"` >> ¶											 "{{WTV:}}"Temporary:commandListUpdate ; ¶											 ExtraModifyReadOnly "{{WTV:}}"WebTV¹PPC ·· "{{Worksheet}}"; ¶											 echo "CheckWindowIn ¶"¶{WTV:¶}WebTV¹PPC¶"" `ProjectInfo -s "{{WTV:}}WebTV¹PPC"` >> ¶											 "{{WTV:}}"Temporary:commandListUpdate ; ¶											 ExtraModifyReadOnly "{{WTV:}}"WebTV¹PPCNoDebug ·· "{{Worksheet}}"; ¶											 echo "CheckWindowIn ¶"¶{WTV:¶}WebTV¹PPCNoDebug¶"" `ProjectInfo -s "{{WTV:}}WebTV¹PPCNoDebug"` >> ¶											 "{{WTV:}}"Temporary:commandListUpdate'AddMenu {WTVMenu}	-						' 'AddMenu {WTVMenu}	'Build ROM Store'																		¶						'Directory "{{WTV:}}ROM:";															¶						Romify -p=1 -romtop=BFE00000 : > "{{WTV:}}ROM Store.New" || Directory "{{WTV:}}";	¶						Directory "{{WTV:}}";																¶						Rename -y "{{WTV:}}ROM Store.New" "{{WTV:}}ROM Store"'AddMenu {WTVMenu}	'Update ROM Store'																		¶						'Extramodifyreadonly "{{WTV:}}Content:ROM Store";									¶						Catenate "{{WTV:}}ROM Store" > "{WTV:}Content:ROM Store"'AddMenu {WTVMenu}	'Test Includes' 		'CreateIncludeTests ·· "{{Worksheet}}"'AddMenu {WTVMenu}	-						' 'AddMenu {WTVMenu}	'Goto WebTV/8'			'Directory {WTV:} ·· "{{Worksheet}}"'AddMenu {WTVMenu}	'Goto Tools' 			'Directory {WTV:}Tools:MPW:Source: ·· "{{Worksheet}}"'AddMenu {WTVMenu}	-						' 'AddMenu {WTVMenu}	'Open MPW Startup'		'Open {WTV:}Tools:MPW:WebTVStartup ·· "{{Worksheet}}"'AddMenu {WTVMenu}	'Open Settings'			'Open {WTV:}"WebTV Settings" ·· "{{Worksheet}}"'AddMenu {WTVMenu}	-						' 'AddMenu {WTVMenu}	'Personal Daemon/¹'		'Open "{{Worksheet}}" && PersonalDaemon ·· "{{Worksheet}}"'# note: all help files should be moved to documentation folderAlias HelpWTV 'Help -f "{{WTV:}}Documentation:WTV.Help"'Alias HelpSDownload 'Help -f "{{WTV:}}Documentation:SDownload.Help"'# Defaults for all WTV usersSet searchWrap 1Alias LoginAs "Set user"#Set buildTarget TrialSys1Box; Execute BuildTargetChanged